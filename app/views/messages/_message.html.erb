<% message_bg_class = message.author.is_a?(User) ? "bg-secondary-100 dark:bg-secondary-950" : "bg-secondary-200 dark:bg-secondary-900 shadow-lg" %>
<%= content_tag :div, id: dom_id(message), class: "flex justify-start items-start px-6 py-3 my-3 rounded-md #{message_bg_class}" do %>
  <div class="flex-1 whitespace-prewrap" data-controller="markdown-text">
      <%= raw(message.content) %>
  </div>
  <div class="flex flex-col ms-4">
    <p class="py-1 text-xs text-right text-muted"><%= author_name_for(message) %></p>
    <p class="py-1 text-xs text-right text-muted"><%= time_ago_in_words(message.created_at) %> ago</p>
  </div>
<% end %>
