<% message_bg_class = message.author.is_a?(User) ? "dark:bg-secondary-800" : "dark:bg-secondary-900" %>
<%= content_tag :div, id: dom_id(message), class: "flex justify-start items-start px-6 py-5 my-3 rounded-md shadow-lg bg-secondary-200 #{message_bg_class}" do %>
  <div class="overflow-x-auto flex-1 whitespace-prewrap" data-controller="markdown-text">
      <%= raw(message.content) %>
  </div>
  <div class="flex flex-col ms-4">
    <p class="py-1 text-xs text-right text-muted"><%= author_name_for(message) %></p>
    <p class="py-1 text-xs text-right text-muted"><%= time_ago_in_words(message.created_at) %> ago</p>
  </div>
<% end %>
